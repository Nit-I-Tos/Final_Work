{"ast":null,"code":"var _jsxFileName = \"C:\\\\Nikita\\\\\\u041A\\u0420\\\\project\\\\src\\\\components\\\\Canvas.jsx\",\n  _s = $RefreshSig$();\nimport React, { useRef, useEffect, useState } from \"react\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Canvas = props => {\n  _s();\n  const {\n    width = '100%',\n    height = '100%',\n    backgroundColor = '#000',\n    ...rest\n  } = props;\n  const canvasRef = useRef(null);\n  const [context, setContext] = useState(null);\n  const resizeCanvas = context => {\n    const canvas = context.canvas;\n    const {\n      width,\n      height\n    } = canvas.getBoundingClientRect();\n    if (canvas.width !== width || canvas.height !== height) {\n      const {\n        devicePixelRatio: ratio = 1\n      } = window;\n      canvas.width = width * ratio;\n      canvas.height = height * ratio;\n      context.scale(ratio, ratio);\n      return true;\n    }\n    return false;\n  };\n  useEffect(() => {\n    let frameCount = 0;\n    let animationFrameId;\n\n    // Check if null context has been replaced on component mount\n    if (context) {\n      //Our draw came here\n      const render = () => {\n        resizeCanvas(context);\n        frameCount++;\n        draw(frameCount);\n        animationFrameId = window.requestAnimationFrame(render);\n      };\n      render();\n    }\n    return () => {\n      window.cancelAnimationFrame(animationFrameId);\n    };\n  }, [draw, context]);\n  return /*#__PURE__*/_jsxDEV(\"canvas\", {\n    ref: canvasRef,\n    ...rest,\n    style: {\n      width,\n      height,\n      backgroundColor\n    }\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 42,\n    columnNumber: 9\n  }, this);\n};\n_s(Canvas, \"OEcAy4U+qjwqiVBm9tpBGr42fdU=\");\n_c = Canvas;\nexport default Canvas;\nvar _c;\n$RefreshReg$(_c, \"Canvas\");","map":{"version":3,"names":["React","useRef","useEffect","useState","jsxDEV","_jsxDEV","Canvas","props","_s","width","height","backgroundColor","rest","canvasRef","context","setContext","resizeCanvas","canvas","getBoundingClientRect","devicePixelRatio","ratio","window","scale","frameCount","animationFrameId","render","draw","requestAnimationFrame","cancelAnimationFrame","ref","style","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["C:/Nikita/лџла/project/src/components/Canvas.jsx"],"sourcesContent":["import React, { useRef, useEffect, useState } from \"react\";\r\n\r\nconst Canvas = (props) => {\r\n  const { width = '100%', height = '100%', backgroundColor = '#000', ...rest } = props;\r\n  const canvasRef = useRef(null);\r\n  const [context, setContext] = useState(null);\r\n  \r\n\tconst resizeCanvas = (context) => {\r\n\t\tconst canvas = context.canvas;\r\n\t\tconst { width, height } = canvas.getBoundingClientRect();\r\n\r\n\t\tif (canvas.width !== width || canvas.height !== height) {\r\n\t\t\tconst { devicePixelRatio: ratio = 1 } = window;\r\n\t\t\tcanvas.width = width * ratio;\r\n\t\t\tcanvas.height = height * ratio;\r\n\t\t\tcontext.scale(ratio, ratio);\r\n\t\t\treturn true;\r\n\t\t}\r\n\t\treturn false;\r\n\t};\r\n\r\n\tuseEffect(() => {\r\n\t\tlet frameCount = 0;\r\n\t\tlet animationFrameId;\r\n\r\n\t\t// Check if null context has been replaced on component mount\r\n\t\tif (context) {\r\n\t\t\t//Our draw came here\r\n\t\t\tconst render = () => {\r\n\t\t\t\tresizeCanvas(context);\r\n\t\t\t\tframeCount++;\r\n\t\t\t\tdraw(frameCount);\r\n\t\t\t\tanimationFrameId = window.requestAnimationFrame(render);\r\n\t\t\t};\r\n\t\t\trender();\r\n\t\t}\r\n\t\treturn () => {\r\n\t\t\twindow.cancelAnimationFrame(animationFrameId);\r\n\t\t};\r\n\t}, [draw, context]);\r\n  \r\n\treturn <canvas ref={canvasRef} {...rest} style={{ width, height, backgroundColor }} />;\r\n};\r\n\r\nexport default Canvas;"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,MAAM,EAAEC,SAAS,EAAEC,QAAQ,QAAQ,OAAO;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAE3D,MAAMC,MAAM,GAAIC,KAAK,IAAK;EAAAC,EAAA;EACxB,MAAM;IAAEC,KAAK,GAAG,MAAM;IAAEC,MAAM,GAAG,MAAM;IAAEC,eAAe,GAAG,MAAM;IAAE,GAAGC;EAAK,CAAC,GAAGL,KAAK;EACpF,MAAMM,SAAS,GAAGZ,MAAM,CAAC,IAAI,CAAC;EAC9B,MAAM,CAACa,OAAO,EAAEC,UAAU,CAAC,GAAGZ,QAAQ,CAAC,IAAI,CAAC;EAE7C,MAAMa,YAAY,GAAIF,OAAO,IAAK;IACjC,MAAMG,MAAM,GAAGH,OAAO,CAACG,MAAM;IAC7B,MAAM;MAAER,KAAK;MAAEC;IAAO,CAAC,GAAGO,MAAM,CAACC,qBAAqB,CAAC,CAAC;IAExD,IAAID,MAAM,CAACR,KAAK,KAAKA,KAAK,IAAIQ,MAAM,CAACP,MAAM,KAAKA,MAAM,EAAE;MACvD,MAAM;QAAES,gBAAgB,EAAEC,KAAK,GAAG;MAAE,CAAC,GAAGC,MAAM;MAC9CJ,MAAM,CAACR,KAAK,GAAGA,KAAK,GAAGW,KAAK;MAC5BH,MAAM,CAACP,MAAM,GAAGA,MAAM,GAAGU,KAAK;MAC9BN,OAAO,CAACQ,KAAK,CAACF,KAAK,EAAEA,KAAK,CAAC;MAC3B,OAAO,IAAI;IACZ;IACA,OAAO,KAAK;EACb,CAAC;EAEDlB,SAAS,CAAC,MAAM;IACf,IAAIqB,UAAU,GAAG,CAAC;IAClB,IAAIC,gBAAgB;;IAEpB;IACA,IAAIV,OAAO,EAAE;MACZ;MACA,MAAMW,MAAM,GAAGA,CAAA,KAAM;QACpBT,YAAY,CAACF,OAAO,CAAC;QACrBS,UAAU,EAAE;QACZG,IAAI,CAACH,UAAU,CAAC;QAChBC,gBAAgB,GAAGH,MAAM,CAACM,qBAAqB,CAACF,MAAM,CAAC;MACxD,CAAC;MACDA,MAAM,CAAC,CAAC;IACT;IACA,OAAO,MAAM;MACZJ,MAAM,CAACO,oBAAoB,CAACJ,gBAAgB,CAAC;IAC9C,CAAC;EACF,CAAC,EAAE,CAACE,IAAI,EAAEZ,OAAO,CAAC,CAAC;EAEnB,oBAAOT,OAAA;IAAQwB,GAAG,EAAEhB,SAAU;IAAA,GAAKD,IAAI;IAAEkB,KAAK,EAAE;MAAErB,KAAK;MAAEC,MAAM;MAAEC;IAAgB;EAAE;IAAAoB,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OAAE,CAAC;AACvF,CAAC;AAAC1B,EAAA,CAxCIF,MAAM;AAAA6B,EAAA,GAAN7B,MAAM;AA0CZ,eAAeA,MAAM;AAAC,IAAA6B,EAAA;AAAAC,YAAA,CAAAD,EAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}